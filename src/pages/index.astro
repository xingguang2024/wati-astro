---
import Layout from "@/layouts/Layout.astro";
import FAQ from "@/components/FAQ.tsx";
import ComparisonTable from "@/components/ComparisonTable";
import ColorButton from "@/components/ColorButton.astro";
import BookDemoModal from "@/components/BookDemoModal.astro";
import CalendlyModal from "@/components/CalendlyModal.astro";

const title = "AI Agents Orchestration Platform | Astra by Wati";
const description =
  "Build, customize and deploy Astra's always-on AI Agents for all your use cases";
---

<Layout title={title}>
  <!-- Hero Banner Section -->
  <section
    class="relative min-h-screen flex items-center justify-center overflow-hidden pt-36 md:pb-24"
  >
    <!-- Background Video -->
    <video
      autoplay
      muted
      loop
      playsinline
      class="absolute top-[40%] left-1/2 w-full h-full object-cover -translate-x-1/2 -translate-y-1/2 scale-y-[-1] z-0"
    >
      <source src="/video/bgvideo.mp4" type="video/mp4" />
    </video>

    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-5xl mx-auto text-center">
        <h1
          class="font-extrabold text-5xl md:text-7xl lg:text-[78px] leading-[125%] tracking-tight text-zinc-900 mb-6"
        >
          <span
            class="bg-linear-to-r from-purple-500 via-blue-500 to-pink-500 bg-clip-text text-transparent block"
            >AI Agent</span
          >
          Orchestration Platform
        </h1>

        <p class="text-xl md:text-2xl leading-8 text-zinc-700 mb-8 px-4">
          Build, customize and deploy <span class="font-semibold"
            >Astra's always-on AI Agents</span
          > for all your use cases, from <span class="font-bold"
            >lead qualification</span
          > to user engagement to <span class="font-semibold"
            >customer support</span
          >. Scale exponentially with Astra's always-on intelligence.
        </p>

        <div class="flex flex-wrap items-center justify-center gap-3 mb-16">
          <a
            href="https://astra.wati.io/register/"
            target="_blank"
            rel="noopener"
            class="inline-flex items-center gap-2 bg-[#1A3478] text-white font-semibold text-lg px-6 h-10.5 rounded-lg hover:bg-[#152a5e] transition-colors"
          >
            Get started for free
            <img src="/images/arrowwhite.svg" class="w-4 h-4" />
          </a>
          <button
            id="bookDemoBtn"
            class="inline-flex cursor-pointer items-center gap-2 border-2 border-zinc-300 text-zinc-900 font-semibold h-10.5 text-lg px-6 rounded-lg hover:border-zinc-400 transition-colors"
          >
            Book a demo
          </button>
        </div>

        <!-- YouTube Video -->
        <div class="max-w-5xl mx-auto">
          <div
            class="relative pb-[56.25%] h-0 overflow-hidden rounded-xl shadow-2xl"
          >
            <iframe
              class="absolute top-0 left-0 w-full h-full"
              src="https://www.youtube.com/embed/HdTLh4loRB4"
              title="Meet Astra: AI-Powered Agents for Web & WhatsApp"
              frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin"
              allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Voice Agent Section -->
  <section class="md:py-20">
    <div class="container mx-auto px-4">
      <div class="text-center mb-12">
        <ColorButton>Voice agent</ColorButton>
        <h2
          class="font-semibold text-4xl md:text-5xl leading-tight text-zinc-900 mb-6"
        >
          Don't just take our word. Talk to AI agents now.
        </h2>
        <p class="text-xl md:text-2xl text-zinc-700 max-w-4xl mx-auto">
          Experience the world's most human AI voice engine. Zero latency.
          Infinite context. Multiple languages and accents.
        </p>
      </div>

      <!-- Voice Demo Iframe -->
      <div class="max-w-6xl mx-auto">
        <iframe
          src="https://dev-astra.watiapp.io/voice-demo"
          allow="microphone"
          class="w-full h-323 md:h-180 rounded-xl border-0"></iframe>
      </div>

      <div class="text-center mt-12">
        <a
          href="https://astra.wati.io/register/"
          target="_blank"
          rel="noopener"
          class="inline-flex items-center gap-2 border-2 border-zinc-300 text-zinc-900 font-semibold text-lg px-8 py-3 rounded-lg hover:border-zinc-400 transition-colors"
        >
          Get started for free
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.33337 7.99992H12.6667M12.6667 7.99992L8.00004 3.33325M12.6667 7.99992L8.00004 12.6666"
              stroke="#27272A"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Key Features Section -->
  <section class="py-15 md:py-32">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <ColorButton>Key features</ColorButton>
        <h2
          class="font-semibold text-4xl md:text-5xl leading-tight text-zinc-900 mb-6"
        >
          From telling to the idea of an AI agent to "live in your favorites
          channel" in mins.
        </h2>
        <p class="text-xl md:text-2xl text-zinc-700">
          You don't need code. You just need a conversation.
        </p>
      </div>

      <!-- Feature Cards -->
      <div class="space-y-6 max-w-6xl mx-auto">
        <!-- Feature 1 -->
        <div class="bg-zinc-50 rounded-3xl overflow-hidden">
          <div class="grid md:grid-cols-2 gap-8 items-center">
            <div class="p-8 md:p-12 order-2 md:order-1">
              <ColorButton class="small">Build fast</ColorButton>
              <h3 class="font-bold text-2xl md:text-3xl text-zinc-900 mb-4">
                Build with natural language
              </h3>
              <p class="text-lg text-zinc-700 mb-4">
                Skip the complexity. Just describe what you need.
              </p>
              <p class="text-lg text-zinc-700 italic mb-4">
                "Create an inbound sales agent that qualifies leads for my solar
                business and books appointments on Calendly."
              </p>
              <p class="text-lg text-zinc-700 font-medium">
                Astra builds it for you.
              </p>
            </div>
            <div
              class="bg-linear-to-br from-purple-100 to-blue-100 p-8 order-1 md:order-2 rounded-3xl md:rounded-l-none"
            >
              <img
                src="/images/ai-kf1.webp"
                alt="Build with natural language"
                class="w-full h-auto rounded-lg"
              />
            </div>
          </div>
        </div>

        <!-- Feature 2 -->
        <div class="bg-zinc-50 rounded-3xl overflow-hidden">
          <div class="grid md:grid-cols-2 gap-8 items-center">
            <div
              class="bg-linear-to-br from-pink-100 to-orange-100 p-8 rounded-3xl md:rounded-r-none"
            >
              <img
                src="/images/ai-kf2.webp"
                alt="Customize the brain"
                class="w-full h-auto rounded-lg"
              />
            </div>
            <div class="p-8 md:p-12">
              <ColorButton class="small">Customize faster</ColorButton>
              <h3 class="font-bold text-2xl md:text-3xl text-zinc-900 mb-4">
                Customize the "brain"
              </h3>
              <p class="text-lg text-zinc-700">
                Upload your content. Astra learns your voice and logic, then
                engages users naturally.
              </p>
            </div>
          </div>
        </div>

        <!-- Feature 3 -->
        <div class="bg-zinc-50 rounded-3xl overflow-hidden">
          <div class="grid md:grid-cols-2 gap-8 items-center">
            <div class="p-8 md:p-12 order-2 md:order-1">
              <ColorButton class="small">Deploy in minutes</ColorButton>
              <h3 class="font-bold text-2xl md:text-3xl text-zinc-900 mb-4">
                Install agent easily
              </h3>
              <p class="text-lg text-zinc-700">
                One agent, every channel. Deploy to your website, WhatsApp,
                phone, SMS, and RCS. One continuous memory across all touch
                points.
              </p>
            </div>
            <div
              class="bg-linear-to-br from-blue-100 to-purple-100 p-8 order-1 md:order-2 rounded-3xl md:rounded-l-none"
            >
              <img
                src="/images/ai-kf3.webp"
                alt="Install agent easily"
                class="w-full h-auto rounded-lg"
              />
            </div>
          </div>
        </div>
      </div>

      <div class="text-center mt-16">
        <a
          href="https://astra.wati.io/register/"
          target="_blank"
          rel="noopener"
          class="inline-flex items-center gap-2 border-2 border-zinc-300 text-zinc-900 font-semibold text-lg px-8 py-3 rounded-lg hover:border-zinc-400 transition-colors"
        >
          Get started for free
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.33337 7.99992H12.6667M12.6667 7.99992L8.00004 3.33325M12.6667 7.99992L8.00004 12.6666"
              stroke="#27272A"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Why Build with Astra Section -->
  <section class="py-20">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <ColorButton>Why build with Astra</ColorButton>
        <h2
          class="font-semibold text-4xl md:text-5xl leading-tight text-zinc-900"
        >
          Why world's best teams choose Astra - faster, smarter, and more human
          than anything before.
        </h2>
      </div>

      <div class="grid md:grid-cols-3 gap-8 max-w-6xl mx-auto">
        <div class="bg-zinc-50 rounded-xl shadow-sm p-8 text-center">
          <div class="mb-6">
            <img
              src="/images/ai-icon1.png"
              alt="Near-human conversations"
              class="mx-auto h-20"
            />
          </div>
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-4">
            Near-human conversations
          </h3>
          <p class="text-lg text-zinc-700">
            Astra listens, pauses, and responds like a real human â€” engaging
            users with empathy and precision.
          </p>
        </div>

        <div class="bg-zinc-50 rounded-xl shadow-sm p-8 text-center">
          <div class="mb-6">
            <img
              src="/images/ai-icon2.png"
              alt="Real-time latency"
              class="mx-auto h-20"
            />
          </div>
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-4">
            Real-time latency
          </h3>
          <p class="text-lg text-zinc-700">
            Handle unlimited conversations simultaneously. Respond instantly
            when customers reach out.
          </p>
        </div>

        <div class="bg-zinc-50 rounded-xl shadow-sm p-8 text-center">
          <div class="mb-6">
            <img
              src="/images/ai-icon3.png"
              alt="Best-in-class accuracy"
              class="mx-auto h-20"
            />
          </div>
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-4">
            Best-in-class accuracy
          </h3>
          <p class="text-lg text-zinc-700">
            Trained on your real data and business context, Astra consistently
            delivers precise, brand-aligned responses.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- Performance Section -->
  <section
    class="pt-7.5 pb-15 md:pt-22.5 md:pb-50 relative bg-[url('/images/world-map.svg')] bg-center bg-no-repeat"
  >
    <div class="container mx-auto px-4 relative z-10">
      <div class="text-center mb-16">
        <h2 class="font-semibold text-4xl md:text-5xl text-zinc-900 mb-4">
          Astra performance
        </h2>
        <p class="text-xl md:text-2xl text-zinc-700">
          Gain instant visibility into response rates, lead conversions, and
          engagement.
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 max-w-5xl mx-auto">
        <div
          class="bg-white/80 rounded-xl shadow-[0px_2px_4px_2px_#18181B1A] p-6 text-center backdrop-blur-sm"
        >
          <p class="text-5xl md:text-6xl font-bold text-zinc-900 mb-4">100%</p>
          <p class="text-lg md:text-xl text-zinc-600">Instant response</p>
        </div>
        <div
          class="bg-white/80 rounded-xl shadow-[0px_2px_4px_2px_#18181B1A] p-6 text-center backdrop-blur-sm"
        >
          <p class="text-5xl md:text-6xl font-bold text-zinc-900 mb-4">24/7</p>
          <p class="text-lg md:text-xl text-zinc-600">Availability</p>
        </div>
        <div
          class="bg-white/80 rounded-xl shadow-[0px_2px_4px_2px_#18181B1A] p-6 text-center backdrop-blur-sm"
        >
          <p class="text-5xl md:text-6xl font-bold text-zinc-900 mb-4">30+</p>
          <p class="text-lg md:text-xl text-zinc-600">Multi-language support</p>
        </div>
        <div
          class="bg-white/80 rounded-xl shadow-[0px_2px_4px_2px_#18181B1A] p-6 text-center backdrop-blur-sm"
        >
          <p class="text-5xl md:text-6xl font-bold text-zinc-900 mb-4">99%</p>
          <p class="text-lg md:text-xl text-zinc-600">User satisfaction</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Integration Section -->
  <section
    class="pt-20 pb-20 md:pb-125 bg-zinc-900 relative bg-[url('/images/integrations.webp')] bg-contain bg-no-repeat bg-bottom"
  >
    <div class="container mx-auto px-4 relative z-10 bg-[#0000007d]">
      <div class="text-center">
        <ColorButton class="white">Integrations</ColorButton>
        <h2 class="font-semibold text-4xl md:text-5xl text-white mb-6">
          Connect everything. Work smarter.
        </h2>
        <p class="text-xl md:text-2xl text-white/90">
          Seamlessly integrate your favorite tools and automate your workflow in
          one place.
        </p>
      </div>
    </div>
  </section>

  <!-- Features Grid Section -->
  <section class="py-20 md:py-32">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <ColorButton>Key features</ColorButton>
        <h2 class="font-semibold text-4xl md:text-5xl text-zinc-900 mb-6">
          What makes Astra different
        </h2>
        <p class="text-xl md:text-2xl text-zinc-700">
          "An intelligent layer that listens, acts, and learns across every
          customer touchpoint."
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl mx-auto">
        <div class="text-center">
          <img
            src="/images/card1.png"
            alt="Spotlight & Highlighter"
            class="w-full mb-6 rounded-lg"
          />
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-3">
            Spotlight & Highlighter
          </h3>
          <p class="text-base text-zinc-700">
            Ask questions directly from any page. Highlight text or spotlight
            content to chat instantly with AI.
          </p>
        </div>

        <div class="text-center">
          <img
            src="/images/card2.webp"
            alt="Go live everywhere"
            class="w-full mb-6 rounded-lg"
          />
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-3">
            Go live everywhere
          </h3>
          <p class="text-base text-zinc-700">
            Launch on Web, WhatsApp, or Voice in minutes. One click connects
            Astra wherever your customers are.
          </p>
        </div>

        <div class="text-center">
          <img
            src="/images/card3.webp"
            alt="Universal voice"
            class="w-full mb-6 rounded-lg"
          />
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-3">
            Universal voice
          </h3>
          <p class="text-base text-zinc-700">
            Speak and text fluidly in 30+ languages. Astra adapts to accents and
            switches languages on the fly.
          </p>
        </div>

        <div class="text-center">
          <img
            src="/images/card4.webp"
            alt="AI actions and tool calling"
            class="w-full mb-6 rounded-lg"
          />
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-3">
            AI actions and tool calling
          </h3>
          <p class="text-base text-zinc-700">
            Move beyond chat. Astra books meetings, updates CRMs, and triggers
            workflows through your connected tools.
          </p>
        </div>

        <div class="text-center">
          <img
            src="/images/card5.webp"
            alt="Leads and insights"
            class="w-full mb-6 rounded-lg"
          />
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-3">
            Leads and insights
          </h3>
          <p class="text-base text-zinc-700">
            Convert conversations into qualified leads and clear insights to
            power smarter decisions.
          </p>
        </div>

        <div class="text-center">
          <img
            src="/images/card6.webp"
            alt="Robust analytics"
            class="w-full mb-6 rounded-lg"
          />
          <h3 class="font-bold text-xl md:text-2xl text-zinc-900 mb-3">
            Robust analytics
          </h3>
          <p class="text-base text-zinc-700">
            Track conversation quality, flows, and conversions with built-in
            analytics that turn engagement into growth.
          </p>
        </div>
      </div>

      <div class="text-center mt-16">
        <a
          href="https://astra.wati.io/register/"
          target="_blank"
          rel="noopener"
          class="inline-flex items-center gap-2 border-2 border-zinc-300 text-zinc-900 font-semibold text-lg px-8 py-3 rounded-lg hover:border-zinc-400 transition-colors"
        >
          Get started for free
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.33337 7.99992H12.6667M12.6667 7.99992L8.00004 3.33325M12.6667 7.99992L8.00004 12.6666"
              stroke="#27272A"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Comparison Table Section -->
  <section class="py-20 md:py-24 bg-zinc-900 rounded-t-[48px] relative">
    <div
      class="absolute right-0 top-0 w-1/2 h-full bg-[url('/images/table-bg.png')] bg-size-[50%] bg-no-repeat bg-right opacity-20"
    >
    </div>
    <div class="container mx-auto px-4 relative z-10">
      <div class="text-center mb-12">
        <ColorButton class="white">Why build with Astra</ColorButton>
        <h2
          class="font-medium text-3xl md:text-4xl lg:text-[42px] leading-tight text-white mb-12 max-w-4xl mx-auto relative"
        >
          The old chatbots vs new agents; Astra agents understand intent, act
          instantly, and move your business forward.
        </h2>
      </div>

      <ComparisonTable client:load />

      <div class="text-center mt-16">
        <a
          href="https://astra.wati.io/register/"
          target="_blank"
          rel="noopener"
          class="inline-flex items-center gap-2 bg-white text-zinc-900 font-semibold text-lg px-8 py-3 rounded-lg hover:bg-zinc-100 transition-colors"
        >
          Get started for free
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.33337 7.99992H12.6667M12.6667 7.99992L8.00004 3.33325M12.6667 7.99992L8.00004 12.6666"
              stroke="#27272A"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="py-20 md:py-32 bg-linear-to-b from-zinc-50 to-white">
    <div class="container mx-auto px-4">
      <div class="text-center mb-16">
        <ColorButton>FAQs</ColorButton>
        <h2 class="font-semibold text-4xl md:text-5xl text-zinc-900">
          Frequently asked questions
        </h2>
      </div>

      <FAQ />

      <div class="text-center mt-16">
        <a
          href="https://astra.wati.io/register/"
          target="_blank"
          rel="noopener"
          class="inline-flex items-center gap-2 border-2 border-zinc-300 text-zinc-900 font-semibold text-lg px-8 py-3 rounded-lg hover:border-zinc-400 transition-colors"
        >
          Get started for free
          <svg
            width="16"
            height="16"
            viewBox="0 0 16 16"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M3.33337 7.99992H12.6667M12.6667 7.99992L8.00004 3.33325M12.6667 7.99992L8.00004 12.6666"
              stroke="#27272A"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"></path>
          </svg>
        </a>
      </div>
    </div>
  </section>

  <!-- Modals -->
  <BookDemoModal />
  <CalendlyModal />
</Layout>

<script>
  import {
    getCalendlyUrl,
    buildCalendlyUrl,
    getCurrentUrlParams,
  } from "../utils/calendly";

  const bookDemoDialog = document.getElementById("book-demo-modal");
  const calendlyDialog = document.getElementById("calendly-modal");

  // Open Book Demo modal
  function openBookDemoModal() {
    bookDemoDialog?.dispatchEvent(new CustomEvent("dialog:open"));
  }

  // Close Book Demo modal
  function closeBookDemoModal() {
    bookDemoDialog?.dispatchEvent(new CustomEvent("dialog:close"));
  }

  // Open Calendly modal
  function openCalendlyModal(url: string) {
    // Set the URL before opening
    window.dispatchEvent(new CustomEvent("calendly:set-url", { detail: url }));
    calendlyDialog?.dispatchEvent(new CustomEvent("dialog:open"));
  }

  // Close Calendly modal
  function closeCalendlyModal() {
    calendlyDialog?.dispatchEvent(new CustomEvent("dialog:close"));
  }

  // Listen for form submission from BookDemoModal
  window.addEventListener(
    "book-demo-form-submit",
    async (event: CustomEvent) => {
      const formData = event.detail as any;
      console.log("Form submitted with data:", formData);

      // Get Calendly URL based on phone/email
      const baseUrl = await getCalendlyUrl(
        formData.phone || "",
        formData.email || "",
      );

      // Build complete URL with parameters
      const utmParams = getCurrentUrlParams();
      const calendlyUrl = buildCalendlyUrl(baseUrl, formData, utmParams);

      console.log("Opening Calendly:", calendlyUrl);

      // Close HubSpot modal
      closeBookDemoModal();

      // Open Calendly modal after short delay
      setTimeout(() => {
        openCalendlyModal(calendlyUrl);
      }, 300);
    },
  );

  // Listen for modal open events from header
  window.addEventListener("openBookDemoModal", openBookDemoModal);

  // Handle page book demo buttons
  const bookDemoBtns = document.querySelectorAll(
    "#bookDemoBtn, .book-demo-trigger",
  );
  bookDemoBtns.forEach((btn) => {
    btn.addEventListener("click", (e) => {
      e.preventDefault();
      openBookDemoModal();
    });
  });
</script>
